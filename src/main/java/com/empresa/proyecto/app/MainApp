package com.tuempresa.proyecto.app;

import com.tuempresa.proyecto.dao.UsuarioDAO;
import com.tuempresa.proyecto.modelo.Usuario;

import java.util.List;

public class MainApp {
    public static void main(String[] args) {
        UsuarioDAO usuarioDAO = new UsuarioDAO();

        // Insertar un usuario
        Usuario nuevoUsuario = new Usuario();
        nuevoUsuario.setNombre("Juan Perez");
        nuevoUsuario.setEmail("juan.perez@example.com");
        boolean insertado = usuarioDAO.insertarUsuario(nuevoUsuario);
        System.out.println("Usuario insertado: " + insertado);

        // Consultar usuarios
        List<Usuario> usuarios = usuarioDAO.consultarUsuarios();
        System.out.println("Lista de usuarios:");
        for (Usuario u : usuarios) {
            System.out.println(u.getId() + " - " + u.getNombre() + " - " + u.getEmail());
        }

        // Actualizar usuario
        if (!usuarios.isEmpty()) {
            Usuario usuarioActualizar = usuarios.get(0);
            usuarioActualizar.setNombre("Juan Actualizado");
            boolean actualizado = usuarioDAO.actualizarUsuario(usuarioActualizar);
            System.out.println("Usuario actualizado: " + actualizado);
        }

        // Eliminar usuario (ejemplo, eliminamos el Ãºltimo usuario)
        if (!usuarios.isEmpty()) {
            int idEliminar = usuarios.get(usuarios.size() - 1).getId();
            boolean eliminado = usuarioDAO.eliminarUsuario(idEliminar);
            System.out.println("Usuario eliminado: " + eliminado);
        }
    }
}
